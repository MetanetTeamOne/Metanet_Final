<!DOCTYPE html>
<html lang="en">
<!--Header -->
<div th:replace="~{include/admin/head :: head}"></div>

<body class="sb-nav-fixed">
	<nav th:replace="~{include/admin/header :: header}"></nav>

	<div id="layoutSidenav">
		<div th:replace="~{include/admin/nav :: navbar}"></div>

		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
					<h1 class="mt-4 title">워시워시</h1>
					<ol class="breadcrumb mb-4">
						<li class="breadcrumb-item active title">관리자 메인 페이지</li>
					</ol>

					<div class="row">
						<div class="col-xl-3 col-md-3">
							<div class="card bg-light text-black mb-3">
								<div class="card-body title">회원 수</div>
								<div class="card-footer d-flex align-items-center justify-content-between">
									<div class="small text-black">
										<i class="fas fa-angle-right"></i>
										<span class="title" th:text="${memberCount}+'명'"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-3">
							<div class="card bg-dark text-white mb-3">
								<div class="card-body title">총 매출</div>
								<div class="card-footer d-flex align-items-center justify-content-between">
									<div class="small text-white">
										<i class="fas fa-angle-right"></i>
										 <span class="title" th:text="${#numbers.formatInteger(totalPay, 0, 'COMMA')}+'원'"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-3">
							<div class="card bg-light text-black mb-3">
								<div class="card-body title">문의대기</div>
								<div class="card-footer d-flex align-items-center justify-content-between">
									<div class="small text-black">
										<i class="fas fa-angle-right"></i>
										<span class="title" th:text="${totalHelp}+'개'"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-3">
							<div class="card bg-dark text-white mb-3">
								<div class="card-body title">누적 주문 건수</div>
								<div class="card-footer d-flex align-items-center justify-content-between">
									<div class="small text-white">
										<i class="fas fa-angle-right"></i>
										<span class="title" th:text="${totalCount}+'개'"></span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-xl-6 col-md-6" style="margin-bottom: 30px;">
							<div class="card mb-6">
								<div class="card-header">
									<i class="fas fa-chart-area me-1"></i>
									월별 매출 통계
								</div>
								<div class="card-body">
									<!--<canvas id="myAreaChart" width="100%" height="40"></canvas>-->
									<!--<canvas id="myLineChart" width="100%" height="40"></canvas>-->
									<canvas id="myChart" width="100%" height="40"></canvas>
								</div>
							</div>
						</div>
						<div class="col-xl-6 col-md-6" style="margin-bottom: 30px;">
							<div class="card mb-6">
								<div class="card-header">
									<i class="fas fa-chart-area me-1"></i>
									월별 매출 통계
								</div>
								<div class="card-body">
									<canvas id="mybarChart" width="100%" height="40"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
			</main>
			<footer th:replace="~{include/admin/footer :: footer}"></footer>
		</div>
	</div>
</body>


<script>
	// 차트를 그럴 영역을 dom요소로 가져온다.
	var chartArea = document.getElementById('myChart').getContext('2d');
	// 차트를 생성한다. 
	var myChart = new Chart(chartArea, {
		// ①차트의 종류(String)
		type: 'line',
		// ②차트의 데이터(Object)
		data: {
			// ③x축에 들어갈 이름들(Array)
			labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
			// ④실제 차트에 표시할 데이터들(Array), dataset객체들을 담고 있다.
			datasets: [{
				// ⑤dataset의 이름(String)
				label: '# of Votes',
				// ⑥dataset값(Array)
				data: [12, 19, 3, 5, 2, 3],
				// ⑦dataset의 배경색(rgba값을 String으로 표현)
				backgroundColor: 'rgba(255, 99, 132, 0.2)',
				// ⑧dataset의 선 색(rgba값을 String으로 표현)
				borderColor: 'rgba(255, 99, 132, 1)',
				// ⑨dataset의 선 두께(Number)
				borderWidth: 1
			}]
		},
		// ⑩차트의 설정(Object)
		options: {
			// ⑪축에 관한 설정(Object)
			scales: {
				// ⑫y축에 대한 설정(Object)
				y: {
					// ⑬시작을 0부터 하게끔 설정(최소값이 0보다 크더라도)(boolean)
					beginAtZero: true
				}
			}
		}
	});

	// 차트를 그럴 영역을 dom요소로 가져온다.
	var chartArea = document.getElementById('mybarChart').getContext('2d');
	// 차트를 생성한다. 
	var mybarChart = new Chart(chartArea, {
		// ①차트의 종류(String)
		type: 'bar',
		// ②차트의 데이터(Object)
		data: {
			// ③x축에 들어갈 이름들(Array)
			labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
			// ④실제 차트에 표시할 데이터들(Array), dataset객체들을 담고 있다.
			datasets: [{
				// ⑤dataset의 이름(String)
				label: '# of Votes',
				// ⑥dataset값(Array)
				data: [12, 19, 3, 5, 2, 3],
				// ⑦dataset의 배경색(rgba값을 String으로 표현)
				backgroundColor: 'rgba(255, 99, 132, 0.2)',
				// ⑧dataset의 선 색(rgba값을 String으로 표현)
				borderColor: 'rgba(255, 99, 132, 1)',
				// ⑨dataset의 선 두께(Number)
				borderWidth: 1
			}]
		},
		// ⑩차트의 설정(Object)
		options: {
			// ⑪축에 관한 설정(Object)
			scales: {
				// ⑫y축에 대한 설정(Object)
				y: {
					// ⑬시작을 0부터 하게끔 설정(최소값이 0보다 크더라도)(boolean)
					beginAtZero: true
				}
			}
		}
	});


	// Set new default font family and font color to mimic Bootstrap's default styling
	Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
	Chart.defaults.global.defaultFontColor = '#292b2c';

	// Area Chart Example
	var ctx = document.getElementById("myAreaChart");
	var myAreaChart = new Chart(ctx, {
		type: 'line',
		data: {
			labels: ["Mar 1", "Mar 2", "Mar 3", "Mar 4", "Mar 5", "Mar 6", "Mar 7", "Mar 8", "Mar 9", "Mar 10", "Mar 11", "Mar 12", "Mar 13"],
			datasets: [{
				label: "Sessions",
				lineTension: 0.3,
				backgroundColor: "rgba(2,117,216,0.2)",
				borderColor: "rgba(2,117,216,1)",
				pointRadius: 5,
				pointBackgroundColor: "rgba(2,117,216,1)",
				pointBorderColor: "rgba(255,255,255,0.8)",
				pointHoverRadius: 5,
				pointHoverBackgroundColor: "rgba(2,117,216,1)",
				pointHitRadius: 50,
				pointBorderWidth: 2,
				data: [10000, 30162, 26263, 18394, 18287, 28682, 31274, 33259, 25849, 24159, 32651, 31984, 38451],
			}],
		},
		options: {
			scales: {
				xAxes: [{
					time: {
						unit: 'date'
					},
					gridLines: {
						display: false
					},
					ticks: {
						maxTicksLimit: 7
					}
				}],
				yAxes: [{
					ticks: {
						min: 0,
						max: 40000,
						maxTicksLimit: 5
					},
					gridLines: {
						color: "rgba(0, 0, 0, .125)",
					}
				}],
			},
			legend: {
				display: false
			}
		}
	});

</script>

</html>